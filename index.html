<script>
  function sendBookingEmail() {
    const name = document.getElementById("name").value;
    const phone = document.getElementById("phone").value;
    const email = document.getElementById("email").value;
    const address = document.getElementById("address").value;
    const unit = document.getElementById("unit").value;
    const date = document.getElementById("date").value;

    // Full data for admin
    const adminParams = {
      name: name,
      phone: phone,
      email: email,
      address: address,
      unit: unit,
      date: date
    };

    // Shorter data for customer
    const customerParams = {
      email: email,
      unit: unit,
      date: date
    };

    // Send to Admin
    emailjs.send('service_1zxrd0j', 'template_6z2dcsj', adminParams)
      .then(() => {
        // Then send to Customer
        emailjs.send('service_1zxrd0j', 'template_nqep0gt', customerParams)
          .then(() => {
            alert("Thanks! Your booking is confirmed. A confirmation email has been sent.");
            document.getElementById("booking-form").reset();
          }, (error) => {
            console.error('Customer email error:', error);
            alert("Booking confirmed, but there was an issue sending the email to the customer.");
          });
      }, (error) => {
        console.error('Admin email error:', error);
        alert("There was a problem sending the booking to admin.");
      });

    return false; // Prevent form from submitting
  }
</script>
