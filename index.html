<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Slide Guys Booking</title>
</head>
<body style="font-family: Arial, sans-serif; background: #f9f9f9; padding: 20px;">

  <div style="max-width: 500px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
    <h2 style="text-align: center; color: #1b6ec2;">Slide Guys Booking</h2>
    <p style="text-align: center;">One unit per day. No cancellations. Rescheduling subject to availability.</p>
    
    <form id="booking-form">
      <label>Name:</label><br />
      <input type="text" name="name" required style="width: 100%; padding: 10px; margin-bottom: 10px;" /><br />

      <label>Phone:</label><br />
      <input type="tel" name="phone" required style="width: 100%; padding: 10px; margin-bottom: 10px;" /><br />

      <label>Email:</label><br />
      <input type="email" name="email" required style="width: 100%; padding: 10px; margin-bottom: 10px;" /><br />

      <label>Address:</label><br />
      <input type="text" name="address" required style="width: 100%; padding: 10px; margin-bottom: 10px;" /><br />

      <label>Unit:</label><br />
      <input type="text" name="unit" required style="width: 100%; padding: 10px; margin-bottom: 10px;" /><br />

      <label>Date:</label><br />
      <input type="date" name="date" required style="width: 100%; padding: 10px; margin-bottom: 20px;" /><br />

      <button type="submit" style="width: 100%; background-color: #1b6ec2; color: white; padding: 12px; border: none; border-radius: 5px; font-size: 16px;">Book Now</button>
    </form>

    <p id="response" style="text-align: center; margin-top: 20px;"></p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function () {
      emailjs.init("PXm_wNk9aIao8Hlpp");

      document.getElementById("booking-form").addEventListener("submit", function (e) {
        e.preventDefault();

        const form = e.target;
        const formData = new FormData(form);
        const customerEmail = formData.get("email");

        // Send to Admin
        emailjs.send("service_1zxrd0j", "template_6z2dcsj", {
          name: formData.get("name"),
          phone: formData.get("phone"),
          email: customerEmail,
          address: formData.get("address"),
          unit: formData.get("unit"),
          date: formData.get("date")
        }).then(() => {
          // Then send to Customer
          return emailjs.send("service_1zxrd0j", "template_nqep0gt", {
            name: formData.get("name"),
            email: customerEmail,
            unit: formData.get("unit"),
            date: formData.get("date")
          });
        }).then(() => {
          document.getElementById("response").innerText = "Booking submitted successfully!";
          form.reset();
        }).catch((error) => {
          console.error("Error:", error);
          document.getElementById("response").innerText = "There was an error sending your booking. Please try again.";
        });
      });
    })();
  </script>
</body>
</html>
